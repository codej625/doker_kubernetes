# 쿠버네티스에 대해 알아보자

<br /><br />

* Kubernetes?
---

```
쿠버네티스는(k8s) 컨테이너 오케스트레이션 시스템으로,
클러스터 내에서 컨테이너화된 애플리케이션을 배포, 관리, 스케일링하기 위한 도구이다.

컨테이너 오케스트레이션 시스템을 사용하는 대표적인 프로그램으로는
Docker swarm, Kubernetes(k8s), Mesos 등이 있지만,
DocKer가 컨테이너 표준이듯이 오케스트레이션 시스템은 Kubernetes가 표준이라 할 수 있다.
```

<br /><br /><br />

* Kubernetes의 주요 구성 요소
---

1. 노드(Node)
```
Kubernetes 클러스터를 구성하는 개별 머신
각각의 노드는 여러 개의 포드(Pod)를 호스팅할 수 있다.
```

<br />


2. 마스터 노드(Master Node)
```
클러스터를 관리하는 노드이다.
API 서버, 스케줄러, 컨트롤러 매니저, etcd 등을 포함한다.
```

<br />

3. 워커 노드(Worker Node)
```
실제 애플리케이션이 실행되는 노드이다.
각 워커 노드는 kubelet, kube-proxy 등을 포함한다.
```

<br />

4. 포드(Pod)
```
하나 이상의 컨테이너를 포함하는 Kubernetes의 기본 배포 단위.
포드는 동일한 네트워크 네임스페이스를 공유하며, 일반적으로 단일 애플리케이션 인스턴스를 실행한다.
```

<br />

5. 서비스(Service)
```
포드의 집합에 대한 지속적인 네트워크 접점을 제공하는 추상화이다.
서비스는 클러스터 내부와 외부에서 포드에 접근할 수 있는 방법을 제공한다.
```

<br />

6. 디플로이먼트(Deployment)
```
선언적 방식으로 애플리케이션을 배포하고 관리하는 객체.
디플로이먼트를 사용하여 포드를 생성하고 업데이트할 수 있다.
```

<br />

7. 컨피그맵(ConfigMap) 및 시크릿(Secret)
```
애플리케이션의 설정 및 비밀 데이터를 저장하고 관리하는 객체.
```

<br />

8. 클러스터
```
Kubernetes는 여러 개의 컴퓨터(노드)를 하나의 클러스터로 관리한다.
이 클러스터는 하나의 시스템처럼 동작하며,
애플리케이션을 실행하고 관리할 수 있다.
```

<br /><br /><br />


* Kubernetes의 주요 기능
---

1. 자동화된 배포 및 롤아웃/롤백
```
애플리케이션을 자동으로 배포하고 업데이트할 수 있으며,
문제가 발생하면 이전 상태로 롤백할 수 있다.
```

<br />

2. 자체 치유(Self-Healing)
```
실패한 컨테이너를 자동으로 재시작하고,
문제가 있는 노드를 교체하며, 클러스터 상태를 지속적으로 모니터링한다.
```

<br />

3. 수평적 스케일링(Horizontal Scaling)
```

부하에 따라 포드를 자동으로 확장하거나 축소할 수 있다.

```

<br />


4. 서비스 디스커버리 및 로드 밸런싱
```

서비스 디스커버리와 로드 밸런싱을 통해 클러스터 내부에서 포드 간의 통신을 원활하게 한다.

```

<br /><br /><br />


* Kubernetes 설치 및 구성
---

```
Kubernetes를 설치하는 방법에는 여러 가지가 있다.
대표적인 방법으로는 다음과 같다.
```

<br /><br />


1. minikube
```
로컬에서 Kubernetes 클러스터를 실행하기 위한 도구.
개발 및 테스트 용도로 주로 사용.
```

<br />

2. kubeadm
```

Kubernetes 클러스터를 설정하는 공식 도구.

```

<br />

3. 관리형 Kubernetes 서비스
```
AWS -> EKS, Google -> GKE, Azure -> AKS와 같은 클라우드 제공업체에서 제공하는 관리형 Kubernetes 서비스가 있다.
```

<br /><br /><br />

* ASKII art로 보는 구조도
---

```
           +------------------------------------------+
           |             Kubernetes Cluster           |
           |           +-------------------+          |
           |           |    Master Node    |          |
           |           |                   |          |
           |           +-------------------+          |
           |           |    API Server     |          |
           |           +-------------------+          |   
           |           |  Controller Mgr   |          |
           |           +-------------------+          |
           |           |       etcd        |          |
           |           +-------------------+          |
           |                                          |
           |                                          |
           +------------------------------------------+
           |                    |                     |
 +-----------------+   +-----------------+   +-----------------+
 |   Worker Node   |   |   Worker Node   |   |   Worker Node   |
 +-----------------+   +-----------------+   +-----------------+
 |   +---------+   |   |   +---------+   |   |   +---------+   |
 |   | Kubelet |   |   |   | Kubelet |   |   |   | Kubelet |   |
 |   +---------+   |   |   +---------+   |   |   +---------+   |
 |   |Container|   |   |   |Container|   |   |   |Container|   |
 |   +---------+   |   |   +---------+   |   |   +---------+   |
 |   |Container|   |   |   |Container|   |   |   |Container|   |
 |   +---------+   |   |   +---------+   |   |   +---------+   |
 +-----------------+   +-----------------+   +-----------------+
```
